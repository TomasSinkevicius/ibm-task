{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\")[\"default\"];\n\nvar _asyncToGenerator = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/asyncToGenerator.js\")[\"default\"];\n\nvar _slicedToArray = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/slicedToArray.js\")[\"default\"];\n\nvar _createForOfIteratorHelper = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\")[\"default\"];\n\nvar _objectSpread = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\n\nvar _classCallCheck = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/classCallCheck.js\")[\"default\"];\n\nvar _createClass = require(\"/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/@babel/runtime/helpers/createClass.js\")[\"default\"];\n\nvar _require = require('./symbols'),\n    isClean = _require.isClean,\n    my = _require.my;\n\nvar MapGenerator = require('./map-generator');\n\nvar _stringify = require('./stringify');\n\nvar Container = require('./container');\n\nvar Document = require('./document');\n\nvar warnOnce = require('./warn-once');\n\nvar Result = require('./result');\n\nvar parse = require('./parse');\n\nvar Root = require('./root');\n\nvar TYPE_TO_CLASS_NAME = {\n  document: 'Document',\n  root: 'Root',\n  atrule: 'AtRule',\n  rule: 'Rule',\n  decl: 'Declaration',\n  comment: 'Comment'\n};\nvar PLUGIN_PROPS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true,\n  Document: true,\n  Root: true,\n  Declaration: true,\n  Rule: true,\n  AtRule: true,\n  Comment: true,\n  DeclarationExit: true,\n  RuleExit: true,\n  AtRuleExit: true,\n  CommentExit: true,\n  RootExit: true,\n  DocumentExit: true,\n  OnceExit: true\n};\nvar NOT_VISITORS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true\n};\nvar CHILDREN = 0;\n\nfunction isPromise(obj) {\n  return typeof obj === 'object' && typeof obj.then === 'function';\n}\n\nfunction getEvents(node) {\n  var key = false;\n  var type = TYPE_TO_CLASS_NAME[node.type];\n\n  if (node.type === 'decl') {\n    key = node.prop.toLowerCase();\n  } else if (node.type === 'atrule') {\n    key = node.name.toLowerCase();\n  }\n\n  if (key && node.append) {\n    return [type, type + '-' + key, CHILDREN, type + 'Exit', type + 'Exit-' + key];\n  } else if (key) {\n    return [type, type + '-' + key, type + 'Exit', type + 'Exit-' + key];\n  } else if (node.append) {\n    return [type, CHILDREN, type + 'Exit'];\n  } else {\n    return [type, type + 'Exit'];\n  }\n}\n\nfunction toStack(node) {\n  var events;\n\n  if (node.type === 'document') {\n    events = ['Document', CHILDREN, 'DocumentExit'];\n  } else if (node.type === 'root') {\n    events = ['Root', CHILDREN, 'RootExit'];\n  } else {\n    events = getEvents(node);\n  }\n\n  return {\n    node: node,\n    events: events,\n    eventIndex: 0,\n    visitors: [],\n    visitorIndex: 0,\n    iterator: 0\n  };\n}\n\nfunction cleanMarks(node) {\n  node[isClean] = false;\n  if (node.nodes) node.nodes.forEach(function (i) {\n    return cleanMarks(i);\n  });\n  return node;\n}\n\nvar postcss = {};\n\nvar LazyResult = /*#__PURE__*/function (_Symbol$toStringTag) {\n  function LazyResult(processor, css, opts) {\n    var _this = this;\n\n    _classCallCheck(this, LazyResult);\n\n    this.stringified = false;\n    this.processed = false;\n    var root;\n\n    if (typeof css === 'object' && css !== null && (css.type === 'root' || css.type === 'document')) {\n      root = cleanMarks(css);\n    } else if (css instanceof LazyResult || css instanceof Result) {\n      root = cleanMarks(css.root);\n\n      if (css.map) {\n        if (typeof opts.map === 'undefined') opts.map = {};\n        if (!opts.map.inline) opts.map.inline = false;\n        opts.map.prev = css.map;\n      }\n    } else {\n      var parser = parse;\n      if (opts.syntax) parser = opts.syntax.parse;\n      if (opts.parser) parser = opts.parser;\n      if (parser.parse) parser = parser.parse;\n\n      try {\n        root = parser(css, opts);\n      } catch (error) {\n        this.processed = true;\n        this.error = error;\n      }\n\n      if (root && !root[my]) {\n        /* c8 ignore next 2 */\n        Container.rebuild(root);\n      }\n    }\n\n    this.result = new Result(processor, root, opts);\n    this.helpers = _objectSpread(_objectSpread({}, postcss), {}, {\n      result: this.result,\n      postcss: postcss\n    });\n    this.plugins = this.processor.plugins.map(function (plugin) {\n      if (typeof plugin === 'object' && plugin.prepare) {\n        return _objectSpread(_objectSpread({}, plugin), plugin.prepare(_this.result));\n      } else {\n        return plugin;\n      }\n    });\n  }\n\n  _createClass(LazyResult, [{\n    key: _Symbol$toStringTag,\n    get: function get() {\n      return 'LazyResult';\n    }\n  }, {\n    key: \"processor\",\n    get: function get() {\n      return this.result.processor;\n    }\n  }, {\n    key: \"opts\",\n    get: function get() {\n      return this.result.opts;\n    }\n  }, {\n    key: \"css\",\n    get: function get() {\n      return this.stringify().css;\n    }\n  }, {\n    key: \"content\",\n    get: function get() {\n      return this.stringify().content;\n    }\n  }, {\n    key: \"map\",\n    get: function get() {\n      return this.stringify().map;\n    }\n  }, {\n    key: \"root\",\n    get: function get() {\n      return this.sync().root;\n    }\n  }, {\n    key: \"messages\",\n    get: function get() {\n      return this.sync().messages;\n    }\n  }, {\n    key: \"warnings\",\n    value: function warnings() {\n      return this.sync().warnings();\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.css;\n    }\n  }, {\n    key: \"then\",\n    value: function then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!('from' in this.opts)) {\n          warnOnce('Without `from` option PostCSS could generate wrong source map ' + 'and will not find Browserslist config. Set it to CSS file path ' + 'or to `undefined` to prevent this warning.');\n        }\n      }\n\n      return this.async().then(onFulfilled, onRejected);\n    }\n  }, {\n    key: \"catch\",\n    value: function _catch(onRejected) {\n      return this.async()[\"catch\"](onRejected);\n    }\n  }, {\n    key: \"finally\",\n    value: function _finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n  }, {\n    key: \"async\",\n    value: function async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n\n      return this.processing;\n    }\n  }, {\n    key: \"sync\",\n    value: function sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.plugins),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var plugin = _step.value;\n          var promise = this.runOnRoot(plugin);\n\n          if (isPromise(promise)) {\n            throw this.getAsyncError();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.prepareVisitors();\n\n      if (this.hasListener) {\n        var root = this.result.root;\n\n        while (!root[isClean]) {\n          root[isClean] = true;\n          this.walkSync(root);\n        }\n\n        if (this.listeners.OnceExit) {\n          if (root.type === 'document') {\n            var _iterator2 = _createForOfIteratorHelper(root.nodes),\n                _step2;\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var subRoot = _step2.value;\n                this.visitSync(this.listeners.OnceExit, subRoot);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root);\n          }\n        }\n      }\n\n      return this.result;\n    }\n  }, {\n    key: \"stringify\",\n    value: function stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      var opts = this.result.opts;\n      var str = _stringify;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      var map = new MapGenerator(str, this.result.root, this.result.opts);\n      var data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n  }, {\n    key: \"walkSync\",\n    value: function walkSync(node) {\n      var _this2 = this;\n\n      node[isClean] = true;\n      var events = getEvents(node);\n\n      var _iterator3 = _createForOfIteratorHelper(events),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var event = _step3.value;\n\n          if (event === CHILDREN) {\n            if (node.nodes) {\n              node.each(function (child) {\n                if (!child[isClean]) _this2.walkSync(child);\n              });\n            }\n          } else {\n            var visitors = this.listeners[event];\n\n            if (visitors) {\n              if (this.visitSync(visitors, node.toProxy())) return;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"visitSync\",\n    value: function visitSync(visitors, node) {\n      var _iterator4 = _createForOfIteratorHelper(visitors),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _step4$value = _slicedToArray(_step4.value, 2),\n              plugin = _step4$value[0],\n              visitor = _step4$value[1];\n\n          this.result.lastPlugin = plugin;\n          var promise = void 0;\n\n          try {\n            promise = visitor(node, this.helpers);\n          } catch (e) {\n            throw this.handleError(e, node.proxyOf);\n          }\n\n          if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n            return true;\n          }\n\n          if (isPromise(promise)) {\n            throw this.getAsyncError();\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"runOnRoot\",\n    value: function runOnRoot(plugin) {\n      var _this3 = this;\n\n      this.result.lastPlugin = plugin;\n\n      try {\n        if (typeof plugin === 'object' && plugin.Once) {\n          if (this.result.root.type === 'document') {\n            var roots = this.result.root.nodes.map(function (root) {\n              return plugin.Once(root, _this3.helpers);\n            });\n\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n\n            return roots;\n          }\n\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === 'function') {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n  }, {\n    key: \"getAsyncError\",\n    value: function getAsyncError() {\n      throw new Error('Use process(css).then(cb) to work with async plugins');\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(error, node) {\n      var plugin = this.result.lastPlugin;\n\n      try {\n        if (node) node.addToError(error);\n        this.error = error;\n\n        if (error.name === 'CssSyntaxError' && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== 'production') {\n            var pluginName = plugin.postcssPlugin;\n            var pluginVer = plugin.postcssVersion;\n            var runtimeVer = this.result.processor.version;\n            var a = pluginVer.split('.');\n            var b = runtimeVer.split('.');\n\n            if (a[0] !== b[0] || parseInt(a[1]) > parseInt(b[1])) {\n              // eslint-disable-next-line no-console\n              console.error('Unknown error from PostCSS plugin. Your current PostCSS ' + 'version is ' + runtimeVer + ', but ' + pluginName + ' uses ' + pluginVer + '. Perhaps this is the source of the error below.');\n            }\n          }\n        }\n      } catch (err) {\n        /* c8 ignore next 3 */\n        // eslint-disable-next-line no-console\n        if (console && console.error) console.error(err);\n      }\n\n      return error;\n    }\n  }, {\n    key: \"runAsync\",\n    value: function () {\n      var _runAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this4 = this;\n\n        var i, plugin, promise, root, stack, _promise, node, _iterator5, _step5, _loop;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.plugin = 0;\n                i = 0;\n\n              case 2:\n                if (!(i < this.plugins.length)) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                plugin = this.plugins[i];\n                promise = this.runOnRoot(plugin);\n\n                if (!isPromise(promise)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.prev = 6;\n                _context2.next = 9;\n                return promise;\n\n              case 9:\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](6);\n                throw this.handleError(_context2.t0);\n\n              case 14:\n                i++;\n                _context2.next = 2;\n                break;\n\n              case 17:\n                this.prepareVisitors();\n\n                if (!this.hasListener) {\n                  _context2.next = 56;\n                  break;\n                }\n\n                root = this.result.root;\n\n              case 20:\n                if (root[isClean]) {\n                  _context2.next = 39;\n                  break;\n                }\n\n                root[isClean] = true;\n                stack = [toStack(root)];\n\n              case 23:\n                if (!(stack.length > 0)) {\n                  _context2.next = 37;\n                  break;\n                }\n\n                _promise = this.visitTick(stack);\n\n                if (!isPromise(_promise)) {\n                  _context2.next = 35;\n                  break;\n                }\n\n                _context2.prev = 26;\n                _context2.next = 29;\n                return _promise;\n\n              case 29:\n                _context2.next = 35;\n                break;\n\n              case 31:\n                _context2.prev = 31;\n                _context2.t1 = _context2[\"catch\"](26);\n                node = stack[stack.length - 1].node;\n                throw this.handleError(_context2.t1, node);\n\n              case 35:\n                _context2.next = 23;\n                break;\n\n              case 37:\n                _context2.next = 20;\n                break;\n\n              case 39:\n                if (!this.listeners.OnceExit) {\n                  _context2.next = 56;\n                  break;\n                }\n\n                _iterator5 = _createForOfIteratorHelper(this.listeners.OnceExit);\n                _context2.prev = 41;\n                _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                  var _step5$value, plugin, visitor, roots;\n\n                  return _regeneratorRuntime().wrap(function _loop$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _step5$value = _slicedToArray(_step5.value, 2), plugin = _step5$value[0], visitor = _step5$value[1];\n                          _this4.result.lastPlugin = plugin;\n                          _context.prev = 2;\n\n                          if (!(root.type === 'document')) {\n                            _context.next = 9;\n                            break;\n                          }\n\n                          roots = root.nodes.map(function (subRoot) {\n                            return visitor(subRoot, _this4.helpers);\n                          });\n                          _context.next = 7;\n                          return Promise.all(roots);\n\n                        case 7:\n                          _context.next = 11;\n                          break;\n\n                        case 9:\n                          _context.next = 11;\n                          return visitor(root, _this4.helpers);\n\n                        case 11:\n                          _context.next = 16;\n                          break;\n\n                        case 13:\n                          _context.prev = 13;\n                          _context.t0 = _context[\"catch\"](2);\n                          throw _this4.handleError(_context.t0);\n\n                        case 16:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _loop, null, [[2, 13]]);\n                });\n\n                _iterator5.s();\n\n              case 44:\n                if ((_step5 = _iterator5.n()).done) {\n                  _context2.next = 48;\n                  break;\n                }\n\n                return _context2.delegateYield(_loop(), \"t2\", 46);\n\n              case 46:\n                _context2.next = 44;\n                break;\n\n              case 48:\n                _context2.next = 53;\n                break;\n\n              case 50:\n                _context2.prev = 50;\n                _context2.t3 = _context2[\"catch\"](41);\n\n                _iterator5.e(_context2.t3);\n\n              case 53:\n                _context2.prev = 53;\n\n                _iterator5.f();\n\n                return _context2.finish(53);\n\n              case 56:\n                this.processed = true;\n                return _context2.abrupt(\"return\", this.stringify());\n\n              case 58:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this, [[6, 11], [26, 31], [41, 50, 53, 56]]);\n      }));\n\n      function runAsync() {\n        return _runAsync.apply(this, arguments);\n      }\n\n      return runAsync;\n    }()\n  }, {\n    key: \"prepareVisitors\",\n    value: function prepareVisitors() {\n      var _this5 = this;\n\n      this.listeners = {};\n\n      var add = function add(plugin, type, cb) {\n        if (!_this5.listeners[type]) _this5.listeners[type] = [];\n\n        _this5.listeners[type].push([plugin, cb]);\n      };\n\n      var _iterator6 = _createForOfIteratorHelper(this.plugins),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var plugin = _step6.value;\n\n          if (typeof plugin === 'object') {\n            for (var event in plugin) {\n              if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n                throw new Error(\"Unknown event \".concat(event, \" in \").concat(plugin.postcssPlugin, \". \") + \"Try to update PostCSS (\".concat(this.processor.version, \" now).\"));\n              }\n\n              if (!NOT_VISITORS[event]) {\n                if (typeof plugin[event] === 'object') {\n                  for (var filter in plugin[event]) {\n                    if (filter === '*') {\n                      add(plugin, event, plugin[event][filter]);\n                    } else {\n                      add(plugin, event + '-' + filter.toLowerCase(), plugin[event][filter]);\n                    }\n                  }\n                } else if (typeof plugin[event] === 'function') {\n                  add(plugin, event, plugin[event]);\n                }\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n  }, {\n    key: \"visitTick\",\n    value: function visitTick(stack) {\n      var visit = stack[stack.length - 1];\n      var node = visit.node,\n          visitors = visit.visitors;\n\n      if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n        stack.pop();\n        return;\n      }\n\n      if (visitors.length > 0 && visit.visitorIndex < visitors.length) {\n        var _visitors$visit$visit = _slicedToArray(visitors[visit.visitorIndex], 2),\n            plugin = _visitors$visit$visit[0],\n            visitor = _visitors$visit$visit[1];\n\n        visit.visitorIndex += 1;\n\n        if (visit.visitorIndex === visitors.length) {\n          visit.visitors = [];\n          visit.visitorIndex = 0;\n        }\n\n        this.result.lastPlugin = plugin;\n\n        try {\n          return visitor(node.toProxy(), this.helpers);\n        } catch (e) {\n          throw this.handleError(e, node);\n        }\n      }\n\n      if (visit.iterator !== 0) {\n        var iterator = visit.iterator;\n        var child;\n\n        while (child = node.nodes[node.indexes[iterator]]) {\n          node.indexes[iterator] += 1;\n\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n\n        visit.iterator = 0;\n        delete node.indexes[iterator];\n      }\n\n      var events = visit.events;\n\n      while (visit.eventIndex < events.length) {\n        var event = events[visit.eventIndex];\n        visit.eventIndex += 1;\n\n        if (event === CHILDREN) {\n          if (node.nodes && node.nodes.length) {\n            node[isClean] = true;\n            visit.iterator = node.getIterator();\n          }\n\n          return;\n        } else if (this.listeners[event]) {\n          visit.visitors = this.listeners[event];\n          return;\n        }\n      }\n\n      stack.pop();\n    }\n  }]);\n\n  return LazyResult;\n}(Symbol.toStringTag);\n\nLazyResult.registerPostcss = function (dependant) {\n  postcss = dependant;\n};\n\nmodule.exports = LazyResult;\nLazyResult[\"default\"] = LazyResult;\nRoot.registerLazyResult(LazyResult);\nDocument.registerLazyResult(LazyResult);","map":{"version":3,"names":["require","isClean","my","MapGenerator","stringify","Container","Document","warnOnce","Result","parse","Root","TYPE_TO_CLASS_NAME","document","root","atrule","rule","decl","comment","PLUGIN_PROPS","postcssPlugin","prepare","Once","Declaration","Rule","AtRule","Comment","DeclarationExit","RuleExit","AtRuleExit","CommentExit","RootExit","DocumentExit","OnceExit","NOT_VISITORS","CHILDREN","isPromise","obj","then","getEvents","node","key","type","prop","toLowerCase","name","append","toStack","events","eventIndex","visitors","visitorIndex","iterator","cleanMarks","nodes","forEach","i","postcss","LazyResult","processor","css","opts","stringified","processed","map","inline","prev","parser","syntax","error","rebuild","result","helpers","plugins","plugin","content","sync","messages","warnings","onFulfilled","onRejected","process","env","NODE_ENV","async","onFinally","Promise","reject","resolve","processing","runAsync","getAsyncError","promise","runOnRoot","prepareVisitors","hasListener","walkSync","listeners","subRoot","visitSync","str","stringifier","data","generate","event","each","child","toProxy","visitor","lastPlugin","e","handleError","proxyOf","parent","roots","all","Error","addToError","setMessage","postcssVersion","pluginName","pluginVer","runtimeVer","version","a","split","b","parseInt","console","err","length","stack","visitTick","add","cb","push","test","filter","Object","keys","visit","pop","indexes","getIterator","Symbol","toStringTag","registerPostcss","dependant","module","exports","registerLazyResult"],"sources":["/Users/tomas/Documents/Github/IBM/ibm-task/node_modules/postcss/lib/lazy-result.js"],"sourcesContent":["'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet MapGenerator = require('./map-generator')\nlet stringify = require('./stringify')\nlet Container = require('./container')\nlet Document = require('./document')\nlet warnOnce = require('./warn-once')\nlet Result = require('./result')\nlet parse = require('./parse')\nlet Root = require('./root')\n\nconst TYPE_TO_CLASS_NAME = {\n  document: 'Document',\n  root: 'Root',\n  atrule: 'AtRule',\n  rule: 'Rule',\n  decl: 'Declaration',\n  comment: 'Comment'\n}\n\nconst PLUGIN_PROPS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true,\n  Document: true,\n  Root: true,\n  Declaration: true,\n  Rule: true,\n  AtRule: true,\n  Comment: true,\n  DeclarationExit: true,\n  RuleExit: true,\n  AtRuleExit: true,\n  CommentExit: true,\n  RootExit: true,\n  DocumentExit: true,\n  OnceExit: true\n}\n\nconst NOT_VISITORS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true\n}\n\nconst CHILDREN = 0\n\nfunction isPromise(obj) {\n  return typeof obj === 'object' && typeof obj.then === 'function'\n}\n\nfunction getEvents(node) {\n  let key = false\n  let type = TYPE_TO_CLASS_NAME[node.type]\n  if (node.type === 'decl') {\n    key = node.prop.toLowerCase()\n  } else if (node.type === 'atrule') {\n    key = node.name.toLowerCase()\n  }\n\n  if (key && node.append) {\n    return [\n      type,\n      type + '-' + key,\n      CHILDREN,\n      type + 'Exit',\n      type + 'Exit-' + key\n    ]\n  } else if (key) {\n    return [type, type + '-' + key, type + 'Exit', type + 'Exit-' + key]\n  } else if (node.append) {\n    return [type, CHILDREN, type + 'Exit']\n  } else {\n    return [type, type + 'Exit']\n  }\n}\n\nfunction toStack(node) {\n  let events\n  if (node.type === 'document') {\n    events = ['Document', CHILDREN, 'DocumentExit']\n  } else if (node.type === 'root') {\n    events = ['Root', CHILDREN, 'RootExit']\n  } else {\n    events = getEvents(node)\n  }\n\n  return {\n    node,\n    events,\n    eventIndex: 0,\n    visitors: [],\n    visitorIndex: 0,\n    iterator: 0\n  }\n}\n\nfunction cleanMarks(node) {\n  node[isClean] = false\n  if (node.nodes) node.nodes.forEach(i => cleanMarks(i))\n  return node\n}\n\nlet postcss = {}\n\nclass LazyResult {\n  constructor(processor, css, opts) {\n    this.stringified = false\n    this.processed = false\n\n    let root\n    if (\n      typeof css === 'object' &&\n      css !== null &&\n      (css.type === 'root' || css.type === 'document')\n    ) {\n      root = cleanMarks(css)\n    } else if (css instanceof LazyResult || css instanceof Result) {\n      root = cleanMarks(css.root)\n      if (css.map) {\n        if (typeof opts.map === 'undefined') opts.map = {}\n        if (!opts.map.inline) opts.map.inline = false\n        opts.map.prev = css.map\n      }\n    } else {\n      let parser = parse\n      if (opts.syntax) parser = opts.syntax.parse\n      if (opts.parser) parser = opts.parser\n      if (parser.parse) parser = parser.parse\n\n      try {\n        root = parser(css, opts)\n      } catch (error) {\n        this.processed = true\n        this.error = error\n      }\n\n      if (root && !root[my]) {\n        /* c8 ignore next 2 */\n        Container.rebuild(root)\n      }\n    }\n\n    this.result = new Result(processor, root, opts)\n    this.helpers = { ...postcss, result: this.result, postcss }\n    this.plugins = this.processor.plugins.map(plugin => {\n      if (typeof plugin === 'object' && plugin.prepare) {\n        return { ...plugin, ...plugin.prepare(this.result) }\n      } else {\n        return plugin\n      }\n    })\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'LazyResult'\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get css() {\n    return this.stringify().css\n  }\n\n  get content() {\n    return this.stringify().content\n  }\n\n  get map() {\n    return this.stringify().map\n  }\n\n  get root() {\n    return this.sync().root\n  }\n\n  get messages() {\n    return this.sync().messages\n  }\n\n  warnings() {\n    return this.sync().warnings()\n  }\n\n  toString() {\n    return this.css\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this.opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    if (this.processed) return Promise.resolve(this.result)\n    if (!this.processing) {\n      this.processing = this.runAsync()\n    }\n    return this.processing\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    if (this.processed) return this.result\n    this.processed = true\n\n    if (this.processing) {\n      throw this.getAsyncError()\n    }\n\n    for (let plugin of this.plugins) {\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        this.walkSync(root)\n      }\n      if (this.listeners.OnceExit) {\n        if (root.type === 'document') {\n          for (let subRoot of root.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot)\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root)\n        }\n      }\n    }\n\n    return this.result\n  }\n\n  stringify() {\n    if (this.error) throw this.error\n    if (this.stringified) return this.result\n    this.stringified = true\n\n    this.sync()\n\n    let opts = this.result.opts\n    let str = stringify\n    if (opts.syntax) str = opts.syntax.stringify\n    if (opts.stringifier) str = opts.stringifier\n    if (str.stringify) str = str.stringify\n\n    let map = new MapGenerator(str, this.result.root, this.result.opts)\n    let data = map.generate()\n    this.result.css = data[0]\n    this.result.map = data[1]\n\n    return this.result\n  }\n\n  walkSync(node) {\n    node[isClean] = true\n    let events = getEvents(node)\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node.nodes) {\n          node.each(child => {\n            if (!child[isClean]) this.walkSync(child)\n          })\n        }\n      } else {\n        let visitors = this.listeners[event]\n        if (visitors) {\n          if (this.visitSync(visitors, node.toProxy())) return\n        }\n      }\n    }\n  }\n\n  visitSync(visitors, node) {\n    for (let [plugin, visitor] of visitors) {\n      this.result.lastPlugin = plugin\n      let promise\n      try {\n        promise = visitor(node, this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node.proxyOf)\n      }\n      if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n        return true\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n  }\n\n  runOnRoot(plugin) {\n    this.result.lastPlugin = plugin\n    try {\n      if (typeof plugin === 'object' && plugin.Once) {\n        if (this.result.root.type === 'document') {\n          let roots = this.result.root.nodes.map(root =>\n            plugin.Once(root, this.helpers)\n          )\n\n          if (isPromise(roots[0])) {\n            return Promise.all(roots)\n          }\n\n          return roots\n        }\n\n        return plugin.Once(this.result.root, this.helpers)\n      } else if (typeof plugin === 'function') {\n        return plugin(this.result.root, this.result)\n      }\n    } catch (error) {\n      throw this.handleError(error)\n    }\n  }\n\n  getAsyncError() {\n    throw new Error('Use process(css).then(cb) to work with async plugins')\n  }\n\n  handleError(error, node) {\n    let plugin = this.result.lastPlugin\n    try {\n      if (node) node.addToError(error)\n      this.error = error\n      if (error.name === 'CssSyntaxError' && !error.plugin) {\n        error.plugin = plugin.postcssPlugin\n        error.setMessage()\n      } else if (plugin.postcssVersion) {\n        if (process.env.NODE_ENV !== 'production') {\n          let pluginName = plugin.postcssPlugin\n          let pluginVer = plugin.postcssVersion\n          let runtimeVer = this.result.processor.version\n          let a = pluginVer.split('.')\n          let b = runtimeVer.split('.')\n\n          if (a[0] !== b[0] || parseInt(a[1]) > parseInt(b[1])) {\n            // eslint-disable-next-line no-console\n            console.error(\n              'Unknown error from PostCSS plugin. Your current PostCSS ' +\n                'version is ' +\n                runtimeVer +\n                ', but ' +\n                pluginName +\n                ' uses ' +\n                pluginVer +\n                '. Perhaps this is the source of the error below.'\n            )\n          }\n        }\n      }\n    } catch (err) {\n      /* c8 ignore next 3 */\n      // eslint-disable-next-line no-console\n      if (console && console.error) console.error(err)\n    }\n    return error\n  }\n\n  async runAsync() {\n    this.plugin = 0\n    for (let i = 0; i < this.plugins.length; i++) {\n      let plugin = this.plugins[i]\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        try {\n          await promise\n        } catch (error) {\n          throw this.handleError(error)\n        }\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        let stack = [toStack(root)]\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack)\n          if (isPromise(promise)) {\n            try {\n              await promise\n            } catch (e) {\n              let node = stack[stack.length - 1].node\n              throw this.handleError(e, node)\n            }\n          }\n        }\n      }\n\n      if (this.listeners.OnceExit) {\n        for (let [plugin, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin\n          try {\n            if (root.type === 'document') {\n              let roots = root.nodes.map(subRoot =>\n                visitor(subRoot, this.helpers)\n              )\n\n              await Promise.all(roots)\n            } else {\n              await visitor(root, this.helpers)\n            }\n          } catch (e) {\n            throw this.handleError(e)\n          }\n        }\n      }\n    }\n\n    this.processed = true\n    return this.stringify()\n  }\n\n  prepareVisitors() {\n    this.listeners = {}\n    let add = (plugin, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = []\n      this.listeners[type].push([plugin, cb])\n    }\n    for (let plugin of this.plugins) {\n      if (typeof plugin === 'object') {\n        for (let event in plugin) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin.postcssPlugin}. ` +\n                `Try to update PostCSS (${this.processor.version} now).`\n            )\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin[event] === 'object') {\n              for (let filter in plugin[event]) {\n                if (filter === '*') {\n                  add(plugin, event, plugin[event][filter])\n                } else {\n                  add(\n                    plugin,\n                    event + '-' + filter.toLowerCase(),\n                    plugin[event][filter]\n                  )\n                }\n              }\n            } else if (typeof plugin[event] === 'function') {\n              add(plugin, event, plugin[event])\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0\n  }\n\n  visitTick(stack) {\n    let visit = stack[stack.length - 1]\n    let { node, visitors } = visit\n\n    if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n      stack.pop()\n      return\n    }\n\n    if (visitors.length > 0 && visit.visitorIndex < visitors.length) {\n      let [plugin, visitor] = visitors[visit.visitorIndex]\n      visit.visitorIndex += 1\n      if (visit.visitorIndex === visitors.length) {\n        visit.visitors = []\n        visit.visitorIndex = 0\n      }\n      this.result.lastPlugin = plugin\n      try {\n        return visitor(node.toProxy(), this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node)\n      }\n    }\n\n    if (visit.iterator !== 0) {\n      let iterator = visit.iterator\n      let child\n      while ((child = node.nodes[node.indexes[iterator]])) {\n        node.indexes[iterator] += 1\n        if (!child[isClean]) {\n          child[isClean] = true\n          stack.push(toStack(child))\n          return\n        }\n      }\n      visit.iterator = 0\n      delete node.indexes[iterator]\n    }\n\n    let events = visit.events\n    while (visit.eventIndex < events.length) {\n      let event = events[visit.eventIndex]\n      visit.eventIndex += 1\n      if (event === CHILDREN) {\n        if (node.nodes && node.nodes.length) {\n          node[isClean] = true\n          visit.iterator = node.getIterator()\n        }\n        return\n      } else if (this.listeners[event]) {\n        visit.visitors = this.listeners[event]\n        return\n      }\n    }\n    stack.pop()\n  }\n}\n\nLazyResult.registerPostcss = dependant => {\n  postcss = dependant\n}\n\nmodule.exports = LazyResult\nLazyResult.default = LazyResult\n\nRoot.registerLazyResult(LazyResult)\nDocument.registerLazyResult(LazyResult)\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}